<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>
	<meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Random Name Picker</title>

  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/foundation.css" />
  <script src="js/vendor/custom.modernizr.js"></script>
  <script src="js/jquery-latest.min.js"></script>

<style>
#values { position:relative;font-size:400%;text-align:center;margin: 0 auto;z-index:0; }
.name { overflow:hidden;display:block; }
#names { display:none;padding:5px; }
#namesbox { min-height:400px;font-size:32px;color:#333;resize:none;border:1px solid #F39C12; }
.extra { font-size:16px;margin-top:20px; }
#result1 { background:#000;color:#fbe34b;padding:20px;z-index:10;margin-top:-150px; }
body { background:#F1C40F url(img/bg-noise-orange.png); }
#varnote { font-size:40px;text-align:center;padding:30px; }
.copyright { font-size:11px;font-family:Tahoma;color:#9B59B6; }
</style>

</head>
<body onload="reset();">

  <div class="full-head" style="width:100%;background:#111 url(img/header-bg.png) repeat-x center top;border-bottom:1px solid #D35400;">
	<div class="row">
		<div class="large-12 columns" style="padding-top:50px;background:#111 url(img/header-bg.png) repeat-x center top;z-index:20;">
		<ul class="button-group even-4">
      <li><a href="index.html" class="alert button" id="reset">Reset</a></li>
			<li><button class="button" id="list" onclick="namelist();">Gacha Lineup</button></li>
			<li><button class="success button" id="go" onclick="go();">SCOUT!</button></li>
    </ul>
		</div>
	</div>
	</div>

	<div class="row">
		<div class="large-12 columns">
			<h3 style="text-align:center;margin-top:30px;" id="headline">Scout in the Hoshimori Gen3 Gacha!</h3>
			
			<div id="varnote"><img src="img/logo.png"><div class="copyright">&copy; Coded by <strong>Heiswayi Nrird</strong>, June 2013</div></div>
			
      <div id="popdown">
      <div id="names" class="inbox"><textarea name="namesbox" id="namesbox"></textarea></div>
      </div>
      
      <div id="values"></div>


		</div>
	</div>

  <script>
  document.write('<script src=' +
  ('__proto__' in {} ? 'js/vendor/zepto' : 'js/vendor/jquery') +
  '.js><\/script>')
  </script>
  
  <script src="js/foundation.min.js"></script>
  <script>$(document).foundation();</script>
  
<script>
var text;
var names = new Array('Ayame Kousaki 2*',
                      'Ayame Kousaki 2*',
                      'Ayame Kousaki 2*',
                      'Nami Aoki 2*',
                      'Nami Aoki 2*',
                      'Nami Aoki 2*',
                      'Yukari Tokugawa 2*',
                      'Yukari Tokugawa 2*',
                      'Yukari Tokugawa 2*',
                      'Inori Iwasaki 2*',
                      'Inori Iwasaki 2*',
                      'Inori Iwasaki 2*',
                      'Matsuko Maaya 2*',
                      'Matsuko Maaya 2*',
                      'Matsuko Maaya 2*',
                      'Ayakan 2*',
                      'Ayakan 2*',
                      'Ayakan 2*',
                      'Tsuki Mizushima 2*',
                      'Tsuki Mizushima 2*',
                      'Tsuki Mizushima 2*',
                      'Kasumi Fujimura 2*',
                      'Kasumi Fujimura 2*',
                      'Kasumi Fujimura 2*',
                      'Momo Yuki 2*',
                      'Momo Yuki 2*',
                      'Momo Yuki 2*',
                      'Hanako 2*',
                      'Hanako 2*',
                      'Hanako 2*',
                      'Rie Izanami 2*',
                      'Rie Izanami 2*',
                      'Rie Izanami 2*',
                      'Riko Aramaki 2*',
                      'Riko Aramaki 2*',
                      'Riko Aramaki 2*',
                      'Lunar 2*',
                      'Lunar 2*',
                      'Lunar 2*',
                      'Kyoko Takahashi 2*',
                      'Kyoko Takahashi 2*',
                      'Kyoko Takahashi 2*',
                      'Lyrica 2*',
                      'Lyrica 2*',
                      'Lyrica 2*',
                      'Risa Yasane 2*',
                      'Risa Yasane 2*',
                      'Risa Yasane 2*',
                      'Tomoko 2*',
                      'Tomoko 2*',
                      'Tomoko 2*',
                      'Kaori Tohsaka 2*',
                      'Kaori Tohsaka 2*',
                      'Kaori Tohsaka 2*',
                      'Ayame Kousaki 3*',
                      'Ayame Kousaki 3*',
                      'Nami Aoki 3*',
                      'Nami Aoki 3*',
                      'Yukari Tokugawa 3*',
                      'Yukari Tokugawa 3*',
                      'Inori Iwasaki 3*',
                      'Inori Iwasaki 3*',
                      'Matsuko Maaya 3*',
                      'Matsuko Maaya 3*',
                      'Ayakan 3*',
                      'Ayakan 3*',
                      'Tsuki Mizushima 3*',
                      'Tsuki Mizushima 3*',
                      'Kasumi Fujimura 3*',
                      'Kasumi Fujimura 3*',
                      'Momo Yuki 3*',
                      'Momo Yuki 3*',
                      'Hanako 3*',
		      'Hanako 3*',
		      'Rie Izanami 3*',
		      'Rie Izanami 3*',
		      'Riko Aramaki 3*',
		      'Riko Aramaki 3*',
		      'Lunar 3*',
		      'Lunar 3*',
		      'Kyoko Takahashi 3*',
		      'Kyoko Takahashi 3*',
		      'Lyrica 3*',
		      'Lyrica 3*',
		      'Risa Yasane 3*',
		      'Risa Yasane 3*',
		      'Tomoko 3*',
		      'Tomoko 3*',
		      'Kaori Tohsaka 3*',
		      'Kaori Tohsaka 3*',
		      'Ayame Kousaki 4*',
		      'Nami Aoki 4*',
		      'Yukari Tokugawa 4*',
		      'Inori Iwasaki 4*',
		      'Matsuko Maaya 4*',
		      'Ayakan 4*',
		      'Tsuki Mizushima 4*',
		      'Kasumi Fujimura 4*',
		      'Momo Yuki 4*',
		      'Hanako 4*',
		      'Rie Izanami 4*',
		      'Riko Aramaki 4*',
		      'Lunar 4*',
		      'Kyoko Takahashi 4*',
		      'Lyrica 4*',
		      'Risa Yasane 4*',
		      'Tomoko 4*',
		      'Kaori Tohsaka 4*'
                      );

function reset(){
  // re-enable go button
  setTimeout("$('#go').removeAttr('disabled')",11005);
  var namesbreak = "";
  if(gup('names') != ""){
    var names = gup('names');
    namesbreak = names.replace(/101/g,'\n');
    namesbreak = namesbreak.replace(/%20/g,' ');          
    }
    else   {
      var names = new Array('Ayame Kousaki 2*',
                      'Ayame Kousaki 2*',
                      'Ayame Kousaki 2*',
                      'Nami Aoki 2*',
                      'Nami Aoki 2*',
                      'Nami Aoki 2*',
                      'Yukari Tokugawa 2*',
                      'Yukari Tokugawa 2*',
                      'Yukari Tokugawa 2*',
                      'Inori Iwasaki 2*',
                      'Inori Iwasaki 2*',
                      'Inori Iwasaki 2*',
                      'Matsuko Maaya 2*',
                      'Matsuko Maaya 2*',
                      'Matsuko Maaya 2*',
                      'Ayakan 2*',
                      'Ayakan 2*',
                      'Ayakan 2*',
                      'Tsuki Mizushima 2*',
                      'Tsuki Mizushima 2*',
                      'Tsuki Mizushima 2*',
                      'Kasumi Fujimura 2*',
                      'Kasumi Fujimura 2*',
                      'Kasumi Fujimura 2*',
                      'Momo Yuki 2*',
                      'Momo Yuki 2*',
                      'Momo Yuki 2*',
                      'Hanako 2*',
                      'Hanako 2*',
                      'Hanako 2*',
                      'Rie Izanami 2*',
                      'Rie Izanami 2*',
                      'Rie Izanami 2*',
                      'Riko Aramaki 2*',
                      'Riko Aramaki 2*',
                      'Riko Aramaki 2*',
                      'Lunar 2*',
                      'Lunar 2*',
                      'Lunar 2*',
                      'Kyoko Takahashi 2*',
                      'Kyoko Takahashi 2*',
                      'Kyoko Takahashi 2*',
                      'Lyrica 2*',
                      'Lyrica 2*',
                      'Lyrica 2*',
                      'Risa Yasane 2*',
                      'Risa Yasane 2*',
                      'Risa Yasane 2*',
                      'Tomoko 2*',
                      'Tomoko 2*',
                      'Tomoko 2*',
                      'Kaori Tohsaka 2*',
                      'Kaori Tohsaka 2*',
                      'Kaori Tohsaka 2*',
                      'Ayame Kousaki 3*',
                      'Ayame Kousaki 3*',
                      'Nami Aoki 3*',
                      'Nami Aoki 3*',
                      'Yukari Tokugawa 3*',
                      'Yukari Tokugawa 3*',
                      'Inori Iwasaki 3*',
                      'Inori Iwasaki 3*',
                      'Matsuko Maaya 3*',
                      'Matsuko Maaya 3*',
                      'Ayakan 3*',
                      'Ayakan 3*',
                      'Tsuki Mizushima 3*',
                      'Tsuki Mizushima 3*',
                      'Kasumi Fujimura 3*',
                      'Kasumi Fujimura 3*',
                      'Momo Yuki 3*',
                      'Momo Yuki 3*',
                      'Hanako 3*',
		      'Hanako 3*',
		      'Rie Izanami 3*',
		      'Rie Izanami 3*',
		      'Riko Aramaki 3*',
		      'Riko Aramaki 3*',
		      'Lunar 3*',
		      'Lunar 3*',
		      'Kyoko Takahashi 3*',
		      'Kyoko Takahashi 3*',
		      'Lyrica 3*',
		      'Lyrica 3*',
		      'Risa Yasane 3*',
		      'Risa Yasane 3*',
		      'Tomoko 3*',
		      'Tomoko 3*',
		      'Kaori Tohsaka 3*',
		      'Kaori Tohsaka 3*',
		      'Ayame Kousaki 4*',
		      'Nami Aoki 4*',
		      'Yukari Tokugawa 4*',
		      'Inori Iwasaki 4*',
		      'Matsuko Maaya 4*',
		      'Ayakan 4*',
		      'Tsuki Mizushima 4*',
		      'Kasumi Fujimura 4*',
		      'Momo Yuki 4*',
		      'Hanako 4*',
		      'Rie Izanami 4*',
		      'Riko Aramaki 4*',
		      'Lunar 4*',
		      'Kyoko Takahashi 4*',
		      'Lyrica 4*',
		      'Risa Yasane 4*',
		      'Tomoko 4*',
		      'Kaori Tohsaka 4*'
                      );
    for(var i in names){
      name = names[i];
      if (name == "" || typeof(name) == undefined){}else{
         namesbreak = namesbreak + name + "\n";
      }
    }
  }
  $("#namesbox").val(namesbreak);
}

function gup(para)
{
  para = para.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
  var regexS = "[\\?&]"+para+"=([^&#]*)";
  var regex = new RegExp( regexS );
  var results = regex.exec( window.location.href );
  if( results == null )
    return "";
  else
    return results[10];
}

function randOrd(){
	return (Math.round(Math.random())-0.5); 
}

function namelist(){
        $("#varnote").hide();
        $('#namesbox').removeAttr('disabled','disabled');
        $('#headline').text('Configure name list');
        $("#popdown").show();
        $("#values").hide();
        $("#names").show();
        $('body').css({"overflow-y": "visible"});
}

// does the actual animation
function go(){
  $("#varnote").hide();
  $('body').css({"overflow-y": "hidden"});
  $('#go').attr('disabled','disabled');
  $('#list').attr('disabled','disabled');
  $('#save').attr('disabled','disabled');
  $('#headline').slideUp();
  $('#namesbox').slideDown();

  var count = 10
  count = 1;
  $("div").remove("#result1");
  names = $("#namesbox").val();
  if(document.all) { // IE
    names=names.split("\n");
  }
  else { //Mozilla
    names=names.split("\n");
  }
  $("#values").show();
  $(".name").show();
  $("#popdown").hide();
  $("div").remove(".name");
  $("div").remove(".extra");
  $("#playback").html("");
  newtop = names.length * 200 * -1;
  //$('#values').css({top: -300});
  $('#values').css({top: + newtop});	
  names.sort( randOrd );
  var fruits = new Array ( "apple", "pear", "orange", "banana" );
  //console.log(fruits);
  //console.log(names);
  //alert(newtop);
  for(var i in names){
    if (names[i] == "" || typeof(names[i]) == undefined){
      count = count-1;
    } else {
      name = names[i];
      //console.log(name);
      $('#values').append('<div id=result'+count+' class=name>'+name+'</div>');
    }
    count = count+1;
  }
  for(var i in names){
    if (names[i] == "" || typeof(names[i]) == undefined){}else{
      name = names[i];
      $('#values').append('<div class=name>'+name+'</div>');
    }
    count = count+1;
  }
  for(var i in names){
    if (names[i] == "" || typeof(names[i]) == undefined){}else{
      name = names[i];
      $('#values').append('<div class=name>'+name+'</div>');
    }
    count = count+1;
  }
  text = $('#result10').text()
  $('#values').animate({top: '+176'},5000);

  // make it stand out
  setTimeout("standout(text)",5000);
  //setTimeout("$('#playback').hide('slow')",11005);
}

function standout(text){

        $('#result10').removeClass('name');
        $('.name').animate({opacity: .25});
        $('#result10').animate({height: '+=100px'});
        $('#go').removeAttr('disabled','disabled');
        $('#list').removeAttr('disabled','disabled');
        $('#save').removeAttr('disabled','disabled');
        $('#headline').text('Scout Results!');
        $('#headline').slideDown();
}

</script>

</body>
</html>
